{"version":3,"file":"bh-activity-bar.js","sources":["../../../src/organisms/shell/bh-activity-bar.ts"],"sourcesContent":["import { html, css } from 'lit';\nimport { customElement, state } from 'lit/decorators.js';\nimport { BaseElement } from '../../primitives/base-element.js';\nimport type { BhActivityItem } from './bh-activity-item.js';\nimport './bh-activity-item.js';\n\n/**\n * A vertical activity bar with icon items, similar to VS Code.\n *\n * @slot - Activity items (`<bh-activity-item>`)\n *\n * @csspart container - The items container\n *\n * @cssprop [--bh-activity-bar-width=48px] - Bar width\n * @cssprop [--bh-activity-bar-bg=var(--bh-color-surface-recessed)] - Background color\n * @cssprop [--bh-activity-bar-border=var(--bh-color-border)] - Right border color\n *\n * @fires bh-activity-change - Fired when the active item changes. `detail: { id: string, label: string }`\n */\n@customElement('bh-activity-bar')\nexport class BhActivityBar extends BaseElement {\n  static styles = [\n    ...([BaseElement.styles].flat()),\n    css`\n      :host {\n        display: flex;\n        flex-direction: column;\n        width: var(--bh-activity-bar-width, 48px);\n        background: var(--bh-activity-bar-bg, var(--bh-color-surface-recessed));\n        border-right: var(--bh-border-1) solid var(--bh-activity-bar-border, var(--bh-color-border));\n        padding-top: var(--bh-spacing-2);\n      }\n\n      .items {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: var(--bh-spacing-1);\n      }\n    `,\n  ];\n\n  @state() private _activeId = '';\n\n  render() {\n    return html`\n      <div class=\"items\" part=\"container\" @bh-activity-item-click=${this._handleItemClick}>\n        <slot></slot>\n      </div>\n    `;\n  }\n\n  get activeId(): string {\n    return this._activeId;\n  }\n\n  setActive(id: string) {\n    this._activeId = id;\n    this._updateItems();\n  }\n\n  private _handleItemClick(e: CustomEvent<{ id: string; label: string }>) {\n    const { id, label } = e.detail;\n    const wasActive = this._activeId === id;\n    this._activeId = wasActive ? '' : id;\n    this._updateItems();\n\n    this.dispatchEvent(\n      new CustomEvent('bh-activity-change', {\n        bubbles: true,\n        composed: true,\n        detail: {\n          id: this._activeId,\n          label: this._activeId ? label : '',\n        },\n      })\n    );\n  }\n\n  private _updateItems() {\n    const slot = this.shadowRoot?.querySelector('slot');\n    if (!slot) return;\n\n    const items = slot.assignedElements({ flatten: true }).filter(\n      (el): el is BhActivityItem => el.tagName === 'BH-ACTIVITY-ITEM'\n    );\n\n    for (const item of items) {\n      item.active = item.itemId === this._activeId;\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'bh-activity-bar': BhActivityBar;\n  }\n}\n"],"names":["BhActivityBar","BaseElement","html","id","label","wasActive","slot","_a","items","el","item","css","__decorateClass","state","customElement"],"mappings":";;;;;;;;;AAoBO,IAAMA,IAAN,cAA4BC,EAAY;AAAA,EAAxC,cAAA;AAAA,UAAA,GAAA,SAAA,GAsBI,KAAQ,YAAY;AAAA,EAAA;AAAA,EAE7B,SAAS;AACP,WAAOC;AAAA,oEACyD,KAAK,gBAAgB;AAAA;AAAA;AAAA;AAAA,EAIvF;AAAA,EAEA,IAAI,WAAmB;AACrB,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,UAAUC,GAAY;AACpB,SAAK,YAAYA,GACjB,KAAK,aAAA;AAAA,EACP;AAAA,EAEQ,iBAAiB,GAA+C;AACtE,UAAM,EAAE,IAAAA,GAAI,OAAAC,EAAA,IAAU,EAAE,QAClBC,IAAY,KAAK,cAAcF;AACrC,SAAK,YAAYE,IAAY,KAAKF,GAClC,KAAK,aAAA,GAEL,KAAK;AAAA,MACH,IAAI,YAAY,sBAAsB;AAAA,QACpC,SAAS;AAAA,QACT,UAAU;AAAA,QACV,QAAQ;AAAA,UACN,IAAI,KAAK;AAAA,UACT,OAAO,KAAK,YAAYC,IAAQ;AAAA,QAAA;AAAA,MAClC,CACD;AAAA,IAAA;AAAA,EAEL;AAAA,EAEQ,eAAe;;AACrB,UAAME,KAAOC,IAAA,KAAK,eAAL,gBAAAA,EAAiB,cAAc;AAC5C,QAAI,CAACD,EAAM;AAEX,UAAME,IAAQF,EAAK,iBAAiB,EAAE,SAAS,GAAA,CAAM,EAAE;AAAA,MACrD,CAACG,MAA6BA,EAAG,YAAY;AAAA,IAAA;AAG/C,eAAWC,KAAQF;AACjB,MAAAE,EAAK,SAASA,EAAK,WAAW,KAAK;AAAA,EAEvC;AACF;AAvEaV,EACJ,SAAS;AAAA,EACd,GAAI,CAACC,EAAY,MAAM,EAAE,KAAA;AAAA,EACzBU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBF;AAEiBC,EAAA;AAAA,EAAhBC,EAAA;AAAM,GAtBIb,EAsBM,WAAA,aAAA,CAAA;AAtBNA,IAANY,EAAA;AAAA,EADNE,EAAc,iBAAiB;AAAA,GACnBd,CAAA;"}