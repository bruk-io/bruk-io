{"version":3,"file":"bh-tabs.js","sources":["../../../src/organisms/tabs/bh-tabs.ts"],"sourcesContent":["import { html, css } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { BaseElement } from '../../primitives/base-element.js';\nimport './bh-tab-bar.js';\nimport './bh-tab-panel.js';\n\n/**\n * Orchestrator that wires a bh-tab-bar to bh-tab-panel children.\n *\n * @slot tab-bar - Slot for the bh-tab-bar element\n * @slot - Default slot for bh-tab-panel elements\n *\n * @fires bh-tab-change - Re-emitted when the active tab changes. `detail: { tabId: string }`\n */\n@customElement('bh-tabs')\nexport class BhTabs extends BaseElement {\n  static styles = [\n    ...([BaseElement.styles].flat()),\n    css`\n      :host {\n        display: flex;\n        flex-direction: column;\n      }\n\n      .panels {\n        flex: 1;\n        min-height: 0;\n        overflow: hidden;\n      }\n    `,\n  ];\n\n  @property() active = '';\n\n  render() {\n    return html`\n      <slot name=\"tab-bar\" @bh-tab-change=${this._handleTabChange}></slot>\n      <div class=\"panels\">\n        <slot @slotchange=${this._syncPanels}></slot>\n      </div>\n    `;\n  }\n\n  updated(changed: Map<string, unknown>) {\n    if (changed.has('active')) {\n      this._syncPanels();\n      this._syncTabBar();\n    }\n  }\n\n  private _handleTabChange(e: CustomEvent<{ tabId: string }>) {\n    e.stopPropagation();\n    this.active = e.detail.tabId;\n    // _syncPanels() is called via updated() when `active` changes â€” no need to call it here too.\n    this.dispatchEvent(\n      new CustomEvent('bh-tab-change', {\n        bubbles: true,\n        composed: true,\n        detail: { tabId: e.detail.tabId },\n      })\n    );\n  }\n\n  private _syncPanels() {\n    const panels = this._getPanels();\n    for (const panel of panels) {\n      panel.active = panel.tabId === this.active;\n    }\n  }\n\n  private _syncTabBar() {\n    const tabBar = this._getTabBar();\n    if (tabBar) {\n      tabBar.active = this.active;\n    }\n  }\n\n  private _getPanels() {\n    const slot = this.shadowRoot?.querySelector('slot:not([name])');\n    if (!slot) return [];\n    return (slot as HTMLSlotElement)\n      .assignedElements({ flatten: true })\n      .filter(\n        (el): el is import('./bh-tab-panel.js').BhTabPanel =>\n          el.tagName === 'BH-TAB-PANEL'\n      );\n  }\n\n  private _getTabBar() {\n    const slot = this.shadowRoot?.querySelector('slot[name=\"tab-bar\"]');\n    if (!slot) return null;\n    const elements = (slot as HTMLSlotElement).assignedElements({ flatten: true });\n    return elements.find(\n      (el): el is import('./bh-tab-bar.js').BhTabBar =>\n        el.tagName === 'BH-TAB-BAR'\n    ) ?? null;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'bh-tabs': BhTabs;\n  }\n}\n"],"names":["BhTabs","BaseElement","html","changed","e","panels","panel","tabBar","slot","_a","el","css","__decorateClass","property","customElement"],"mappings":";;;;;;;;;;AAeO,IAAMA,IAAN,cAAqBC,EAAY;AAAA,EAAjC,cAAA;AAAA,UAAA,GAAA,SAAA,GAiBO,KAAA,SAAS;AAAA,EAAA;AAAA,EAErB,SAAS;AACP,WAAOC;AAAA,4CACiC,KAAK,gBAAgB;AAAA;AAAA,4BAErC,KAAK,WAAW;AAAA;AAAA;AAAA,EAG1C;AAAA,EAEA,QAAQC,GAA+B;AACrC,IAAIA,EAAQ,IAAI,QAAQ,MACtB,KAAK,YAAA,GACL,KAAK,YAAA;AAAA,EAET;AAAA,EAEQ,iBAAiBC,GAAmC;AAC1D,IAAAA,EAAE,gBAAA,GACF,KAAK,SAASA,EAAE,OAAO,OAEvB,KAAK;AAAA,MACH,IAAI,YAAY,iBAAiB;AAAA,QAC/B,SAAS;AAAA,QACT,UAAU;AAAA,QACV,QAAQ,EAAE,OAAOA,EAAE,OAAO,MAAA;AAAA,MAAM,CACjC;AAAA,IAAA;AAAA,EAEL;AAAA,EAEQ,cAAc;AACpB,UAAMC,IAAS,KAAK,WAAA;AACpB,eAAWC,KAASD;AAClB,MAAAC,EAAM,SAASA,EAAM,UAAU,KAAK;AAAA,EAExC;AAAA,EAEQ,cAAc;AACpB,UAAMC,IAAS,KAAK,WAAA;AACpB,IAAIA,MACFA,EAAO,SAAS,KAAK;AAAA,EAEzB;AAAA,EAEQ,aAAa;;AACnB,UAAMC,KAAOC,IAAA,KAAK,eAAL,gBAAAA,EAAiB,cAAc;AAC5C,WAAKD,IACGA,EACL,iBAAiB,EAAE,SAAS,GAAA,CAAM,EAClC;AAAA,MACC,CAACE,MACCA,EAAG,YAAY;AAAA,IAAA,IALH,CAAA;AAAA,EAOpB;AAAA,EAEQ,aAAa;;AACnB,UAAMF,KAAOC,IAAA,KAAK,eAAL,gBAAAA,EAAiB,cAAc;AAC5C,WAAKD,IACaA,EAAyB,iBAAiB,EAAE,SAAS,IAAM,EAC7D;AAAA,MACd,CAACE,MACCA,EAAG,YAAY;AAAA,IAAA,KACd,OALa;AAAA,EAMpB;AACF;AAlFaV,EACJ,SAAS;AAAA,EACd,GAAI,CAACC,EAAY,MAAM,EAAE,KAAA;AAAA,EACzBU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYF;AAEYC,EAAA;AAAA,EAAXC,EAAA;AAAS,GAjBCb,EAiBC,WAAA,UAAA,CAAA;AAjBDA,IAANY,EAAA;AAAA,EADNE,EAAc,SAAS;AAAA,GACXd,CAAA;"}