{"version":3,"file":"bh-tab-bar.js","sources":["../../../src/organisms/tabs/bh-tab-bar.ts"],"sourcesContent":["import { html, css } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { BaseElement } from '../../primitives/base-element.js';\nimport './bh-tab.js';\n\n/**\n * Horizontal tab bar that holds bh-tab items.\n *\n * @slot - Tab items (bh-tab elements)\n *\n * @cssprop [--bh-tab-bar-height=36px] - Bar height\n * @cssprop [--bh-tab-bar-bg=transparent] - Background color\n * @cssprop [--bh-tab-bar-border=var(--bh-color-border)] - Bottom border color\n *\n * @fires bh-tab-change - Fired when a tab is selected. `detail: { tabId: string }`\n */\n@customElement('bh-tab-bar')\nexport class BhTabBar extends BaseElement {\n  static styles = [\n    ...([BaseElement.styles].flat()),\n    css`\n      :host {\n        display: block;\n      }\n\n      .tabs {\n        display: flex;\n        align-items: center;\n        height: var(--bh-tab-bar-height, 36px);\n        background: var(--bh-tab-bar-bg, transparent);\n        border-bottom: var(--bh-border-1) solid var(--bh-tab-bar-border, var(--bh-color-border));\n        overflow-x: auto;\n      }\n\n      ::slotted(bh-tab) {\n        height: 100%;\n      }\n    `,\n  ];\n\n  @property() active = '';\n\n  render() {\n    return html`\n      <div class=\"tabs\" role=\"tablist\" @bh-tab-click=${this._handleTabClick}>\n        <slot @slotchange=${this._syncActive}></slot>\n      </div>\n    `;\n  }\n\n  updated(changed: Map<string, unknown>) {\n    if (changed.has('active')) {\n      this._syncActive();\n    }\n  }\n\n  private _syncActive() {\n    const tabs = this._getTabs();\n    for (const tab of tabs) {\n      tab.active = tab.tabId === this.active;\n    }\n  }\n\n  private _handleTabClick(e: CustomEvent<{ tabId: string }>) {\n    e.stopPropagation();\n    this.active = e.detail.tabId;\n    this.dispatchEvent(\n      new CustomEvent('bh-tab-change', {\n        bubbles: true,\n        composed: true,\n        detail: { tabId: e.detail.tabId },\n      })\n    );\n  }\n\n  private _getTabs() {\n    const slot = this.shadowRoot?.querySelector('slot');\n    if (!slot) return [];\n    return slot\n      .assignedElements({ flatten: true })\n      .filter((el): el is import('./bh-tab.js').BhTab => el.tagName === 'BH-TAB');\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'bh-tab-bar': BhTabBar;\n  }\n}\n"],"names":["BhTabBar","BaseElement","html","changed","tabs","tab","e","slot","_a","el","css","__decorateClass","property","customElement"],"mappings":";;;;;;;;;AAiBO,IAAMA,IAAN,cAAuBC,EAAY;AAAA,EAAnC,cAAA;AAAA,UAAA,GAAA,SAAA,GAuBO,KAAA,SAAS;AAAA,EAAA;AAAA,EAErB,SAAS;AACP,WAAOC;AAAA,uDAC4C,KAAK,eAAe;AAAA,4BAC/C,KAAK,WAAW;AAAA;AAAA;AAAA,EAG1C;AAAA,EAEA,QAAQC,GAA+B;AACrC,IAAIA,EAAQ,IAAI,QAAQ,KACtB,KAAK,YAAA;AAAA,EAET;AAAA,EAEQ,cAAc;AACpB,UAAMC,IAAO,KAAK,SAAA;AAClB,eAAWC,KAAOD;AAChB,MAAAC,EAAI,SAASA,EAAI,UAAU,KAAK;AAAA,EAEpC;AAAA,EAEQ,gBAAgBC,GAAmC;AACzD,IAAAA,EAAE,gBAAA,GACF,KAAK,SAASA,EAAE,OAAO,OACvB,KAAK;AAAA,MACH,IAAI,YAAY,iBAAiB;AAAA,QAC/B,SAAS;AAAA,QACT,UAAU;AAAA,QACV,QAAQ,EAAE,OAAOA,EAAE,OAAO,MAAA;AAAA,MAAM,CACjC;AAAA,IAAA;AAAA,EAEL;AAAA,EAEQ,WAAW;;AACjB,UAAMC,KAAOC,IAAA,KAAK,eAAL,gBAAAA,EAAiB,cAAc;AAC5C,WAAKD,IACEA,EACJ,iBAAiB,EAAE,SAAS,GAAA,CAAM,EAClC,OAAO,CAACE,MAA0CA,EAAG,YAAY,QAAQ,IAH1D,CAAA;AAAA,EAIpB;AACF;AAjEaT,EACJ,SAAS;AAAA,EACd,GAAI,CAACC,EAAY,MAAM,EAAE,KAAA;AAAA,EACzBS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBF;AAEYC,EAAA;AAAA,EAAXC,EAAA;AAAS,GAvBCZ,EAuBC,WAAA,UAAA,CAAA;AAvBDA,IAANW,EAAA;AAAA,EADNE,EAAc,YAAY;AAAA,GACdb,CAAA;"}