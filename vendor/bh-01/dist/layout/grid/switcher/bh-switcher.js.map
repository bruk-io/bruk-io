{"version":3,"file":"bh-switcher.js","sources":["../../../../src/layout/grid/switcher/bh-switcher.ts"],"sourcesContent":["import { html, css, type PropertyValues } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { BaseElement } from '../../../primitives/base-element.js';\nimport type { LayoutGap } from '../../layout-types.js';\n\n/**\n * Columns that collapse below a threshold.\n *\n * Uses CSS Grid auto-fit to switch between multi-column and single-column\n * layouts based on available width. Purely structural — no visual styling.\n *\n * @slot - Default slot for content\n *\n * @cssprop [--bh-switcher-gap] - Override gap value\n * @cssprop [--bh-switcher-threshold] - Override threshold value\n */\n@customElement('bh-switcher')\nexport class BhSwitcher extends BaseElement {\n  static styles = [\n    ...([BaseElement.styles].flat()),\n    css`\n      :host {\n        display: grid;\n        gap: var(--bh-switcher-gap, var(--bh-spacing-4));\n      }\n\n      /* Gap */\n      :host([gap='none']) {\n        --bh-switcher-gap: 0;\n      }\n\n      :host([gap='xs']) {\n        --bh-switcher-gap: var(--bh-spacing-1);\n      }\n\n      :host([gap='sm']) {\n        --bh-switcher-gap: var(--bh-spacing-2);\n      }\n\n      :host([gap='md']) {\n        --bh-switcher-gap: var(--bh-spacing-4);\n      }\n\n      :host([gap='lg']) {\n        --bh-switcher-gap: var(--bh-spacing-6);\n      }\n\n      :host([gap='xl']) {\n        --bh-switcher-gap: var(--bh-spacing-8);\n      }\n\n      :host([gap='2xl']) {\n        --bh-switcher-gap: var(--bh-spacing-12);\n      }\n    `,\n  ];\n\n  @property({ reflect: true }) gap: LayoutGap = 'md';\n  @property({ reflect: true }) threshold = '30rem';\n  @property({ type: Number, reflect: true }) limit = 4;\n\n  protected willUpdate(changed: PropertyValues<this>) {\n    if (changed.has('threshold') || changed.has('limit')) {\n      this.style.setProperty('--bh-switcher-threshold', this.threshold);\n      // auto-fit collapses columns when container is narrow (no overflow).\n      // The column minimum is the LARGER of threshold and 100%/limit —\n      // this caps auto-fit at `limit` columns on wide containers.\n      const limitMin = `calc(100% / ${this.limit})`;\n      const threshold = `var(--bh-switcher-threshold, 30rem)`;\n      this.style.gridTemplateColumns = `repeat(auto-fit, minmax(min(100%, max(${threshold}, ${limitMin})), 1fr))`;\n    }\n  }\n\n  render() {\n    return html`<slot></slot>`;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'bh-switcher': BhSwitcher;\n  }\n}\n"],"names":["BhSwitcher","BaseElement","changed","limitMin","threshold","html","css","__decorateClass","property","customElement"],"mappings":";;;;;;;;AAiBO,IAAMA,IAAN,cAAyBC,EAAY;AAAA,EAArC,cAAA;AAAA,UAAA,GAAA,SAAA,GAwCwB,KAAA,MAAiB,MACjB,KAAA,YAAY,SACE,KAAA,QAAQ;AAAA,EAAA;AAAA,EAEzC,WAAWC,GAA+B;AAClD,QAAIA,EAAQ,IAAI,WAAW,KAAKA,EAAQ,IAAI,OAAO,GAAG;AACpD,WAAK,MAAM,YAAY,2BAA2B,KAAK,SAAS;AAIhE,YAAMC,IAAW,eAAe,KAAK,KAAK,KACpCC,IAAY;AAClB,WAAK,MAAM,sBAAsB,yCAAyCA,CAAS,KAAKD,CAAQ;AAAA,IAClG;AAAA,EACF;AAAA,EAEA,SAAS;AACP,WAAOE;AAAA,EACT;AACF;AA3DaL,EACJ,SAAS;AAAA,EACd,GAAI,CAACC,EAAY,MAAM,EAAE,KAAA;AAAA,EACzBK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmCF;AAE6BC,EAAA;AAAA,EAA5BC,EAAS,EAAE,SAAS,GAAA,CAAM;AAAA,GAxChBR,EAwCkB,WAAA,OAAA,CAAA;AACAO,EAAA;AAAA,EAA5BC,EAAS,EAAE,SAAS,GAAA,CAAM;AAAA,GAzChBR,EAyCkB,WAAA,aAAA,CAAA;AACcO,EAAA;AAAA,EAA1CC,EAAS,EAAE,MAAM,QAAQ,SAAS,IAAM;AAAA,GA1C9BR,EA0CgC,WAAA,SAAA,CAAA;AA1ChCA,IAANO,EAAA;AAAA,EADNE,EAAc,aAAa;AAAA,GACfT,CAAA;"}