{"version":3,"file":"bh-textarea.js","sources":["../../../src/atoms/textarea/bh-textarea.ts"],"sourcesContent":["import { html, css, nothing } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { live } from 'lit/directives/live.js';\nimport { BaseElement } from '../../primitives/base-element.js';\n\nexport type TextareaSize = 'sm' | 'md' | 'lg';\nexport type TextareaResize = 'none' | 'vertical' | 'horizontal' | 'both';\n\n/**\n * A multi-line text input for longer-form content like comments,\n * descriptions, and messages.\n *\n * @csspart wrapper - The outer container with border and background\n * @csspart textarea - The native `<textarea>` element\n *\n * @cssprop [--bh-textarea-bg=var(--bh-color-surface-raised)] - Textarea background\n * @cssprop [--bh-textarea-color=var(--bh-color-text)] - Textarea text color\n * @cssprop [--bh-textarea-border=var(--bh-color-border)] - Textarea border color\n * @cssprop [--bh-textarea-radius=var(--bh-radius-md)] - Textarea border radius\n *\n * @fires bh-input - Fired on each keystroke. `detail: { value: string }`\n * @fires bh-change - Fired on blur/commit. `detail: { value: string }`\n */\n@customElement('bh-textarea')\nexport class BhTextarea extends BaseElement {\n  static styles = [\n    ...([BaseElement.styles].flat()),\n    css`\n      :host {\n        display: block;\n      }\n\n      .wrapper {\n        display: flex;\n        width: 100%;\n        background: var(--bh-textarea-bg, var(--bh-color-surface-raised));\n        border: var(--bh-border-1) solid var(--bh-textarea-border, var(--bh-color-border));\n        border-radius: var(--bh-textarea-radius, var(--bh-radius-md));\n        box-shadow: var(--bh-shadow-inset);\n        transition: all var(--bh-transition-fast);\n      }\n\n      textarea {\n        flex: 1;\n        min-width: 0;\n        font-family: var(--bh-font-sans);\n        line-height: var(--bh-leading-normal);\n        color: var(--bh-textarea-color, var(--bh-color-text));\n        background: transparent;\n        border: none;\n        outline: none;\n        resize: vertical;\n      }\n\n      textarea::placeholder {\n        color: var(--bh-color-text-muted);\n      }\n\n      /* Resize */\n      :host([resize='none']) textarea { resize: none; }\n      :host([resize='vertical']) textarea { resize: vertical; }\n      :host([resize='horizontal']) textarea { resize: horizontal; }\n      :host([resize='both']) textarea { resize: both; }\n\n      /* Sizes */\n      :host([size='sm']) .wrapper {\n        font-size: var(--bh-text-sm);\n        padding: var(--bh-spacing-1-5) var(--bh-spacing-3);\n      }\n\n      .wrapper,\n      :host([size='md']) .wrapper {\n        font-size: var(--bh-text-base);\n        padding: var(--bh-spacing-2) var(--bh-spacing-4);\n      }\n\n      :host([size='lg']) .wrapper {\n        font-size: var(--bh-text-lg);\n        padding: var(--bh-spacing-2-5) var(--bh-spacing-6);\n      }\n\n      textarea {\n        font-size: inherit;\n      }\n\n      /* Focus */\n      .wrapper:focus-within {\n        border-color: var(--bh-color-ring);\n        box-shadow: 0 0 0 1px var(--bh-color-ring);\n      }\n\n      /* Error */\n      :host([error]) .wrapper {\n        border-color: var(--bh-color-danger);\n      }\n\n      :host([error]) .wrapper:focus-within {\n        border-color: var(--bh-color-danger);\n        box-shadow: 0 0 0 1px var(--bh-color-danger);\n      }\n\n      /* Disabled */\n      :host([disabled]) .wrapper {\n        opacity: 0.5;\n        cursor: not-allowed;\n      }\n\n      :host([disabled]) textarea {\n        cursor: not-allowed;\n      }\n\n      /* Readonly */\n      :host([readonly]) .wrapper {\n        background: var(--bh-color-surface);\n      }\n    `,\n  ];\n\n  @property({ reflect: true }) size: TextareaSize = 'md';\n  @property() value = '';\n  @property() placeholder = '';\n  @property() name = '';\n  @property() label = '';\n  @property({ type: Number }) rows = 3;\n  @property({ reflect: true }) resize: TextareaResize = 'vertical';\n  @property({ type: Boolean, reflect: true }) disabled = false;\n  @property({ type: Boolean, reflect: true }) readonly = false;\n  @property({ type: Boolean, reflect: true }) required = false;\n  @property({ type: Boolean, reflect: true }) error = false;\n\n  render() {\n    return html`\n      <div class=\"wrapper\" part=\"wrapper\">\n        <textarea\n          part=\"textarea\"\n          .value=${live(this.value)}\n          placeholder=${this.placeholder || nothing}\n          name=${this.name || nothing}\n          aria-label=${this.label || nothing}\n          rows=${this.rows}\n          ?disabled=${this.disabled}\n          ?readonly=${this.readonly}\n          ?required=${this.required}\n          aria-invalid=${this.error ? 'true' : nothing}\n          @input=${this._handleInput}\n          @change=${this._handleChange}\n        ></textarea>\n      </div>\n    `;\n  }\n\n  private _handleInput(e: InputEvent) {\n    const textarea = e.target as HTMLTextAreaElement;\n    this.value = textarea.value;\n    this.dispatchEvent(\n      new CustomEvent('bh-input', {\n        bubbles: true,\n        composed: true,\n        detail: { value: this.value },\n      })\n    );\n  }\n\n  private _handleChange(e: Event) {\n    const textarea = e.target as HTMLTextAreaElement;\n    this.value = textarea.value;\n    this.dispatchEvent(\n      new CustomEvent('bh-change', {\n        bubbles: true,\n        composed: true,\n        detail: { value: this.value },\n      })\n    );\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'bh-textarea': BhTextarea;\n  }\n}\n"],"names":["BhTextarea","BaseElement","html","live","nothing","e","textarea","css","__decorateClass","property","customElement"],"mappings":"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"}