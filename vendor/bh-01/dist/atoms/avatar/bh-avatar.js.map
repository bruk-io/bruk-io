{"version":3,"file":"bh-avatar.js","sources":["../../../src/atoms/avatar/bh-avatar.ts"],"sourcesContent":["import { html, css, nothing } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport { BaseElement } from '../../primitives/base-element.js';\n\nexport type AvatarSize = 'sm' | 'md' | 'lg';\n\n/**\n * A user/entity avatar with image, initials fallback, and generic icon fallback.\n *\n * Fallback order: image (src) -> initials -> generic user icon.\n *\n * @csspart image - The `<img>` element (when src is used)\n * @csspart initials - The initials text container\n *\n * @cssprop [--bh-avatar-size] - Avatar width and height (overrides size prop)\n * @cssprop [--bh-avatar-bg=var(--bh-color-secondary)] - Background color for initials/fallback\n * @cssprop [--bh-avatar-color=var(--bh-color-secondary-text)] - Text/icon color\n */\n@customElement('bh-avatar')\nexport class BhAvatar extends BaseElement {\n  static styles = [\n    ...([BaseElement.styles].flat()),\n    css`\n      :host {\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        border-radius: var(--bh-radius-full);\n        overflow: hidden;\n        background: var(--bh-avatar-bg, var(--bh-color-secondary));\n        color: var(--bh-avatar-color, var(--bh-color-secondary-text));\n        font-family: var(--bh-font-sans);\n        font-weight: var(--bh-font-semibold);\n        flex-shrink: 0;\n      }\n\n      :host([size='sm']) {\n        width: var(--bh-avatar-size, 2rem);\n        height: var(--bh-avatar-size, 2rem);\n        font-size: var(--bh-text-xs);\n      }\n\n      :host,\n      :host([size='md']) {\n        width: var(--bh-avatar-size, 2.5rem);\n        height: var(--bh-avatar-size, 2.5rem);\n        font-size: var(--bh-text-sm);\n      }\n\n      :host([size='lg']) {\n        width: var(--bh-avatar-size, 3rem);\n        height: var(--bh-avatar-size, 3rem);\n        font-size: var(--bh-text-base);\n      }\n\n      img {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n      }\n\n      .initials {\n        line-height: var(--bh-leading-none);\n        text-transform: uppercase;\n        user-select: none;\n      }\n\n      svg {\n        width: 60%;\n        height: 60%;\n        fill: currentColor;\n      }\n    `,\n  ];\n\n  @property({ reflect: true }) size: AvatarSize = 'md';\n  @property() src = '';\n  @property() alt = '';\n  @property() initials = '';\n\n  @state() private _imgFailed = false;\n\n  render() {\n    if (this.src && !this._imgFailed) {\n      return html`\n        <img\n          part=\"image\"\n          src=${this.src}\n          alt=${this.alt || nothing}\n          @error=${this._onImgError}\n        />\n      `;\n    }\n\n    if (this.initials) {\n      return html`\n        <span class=\"initials\" part=\"initials\" aria-label=${this.alt || nothing}>\n          ${this.initials.slice(0, 2)}\n        </span>\n      `;\n    }\n\n    // Generic user fallback\n    return html`\n      <svg viewBox=\"0 0 24 24\" aria-label=${this.alt || 'User'}>\n        <path d=\"M12 12c2.7 0 4.8-2.1 4.8-4.8S14.7 2.4 12 2.4 7.2 4.5 7.2 7.2 9.3 12 12 12zm0 2.4c-3.2 0-9.6 1.6-9.6 4.8v2.4h19.2v-2.4c0-3.2-6.4-4.8-9.6-4.8z\"/>\n      </svg>\n    `;\n  }\n\n  private _onImgError() {\n    this._imgFailed = true;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'bh-avatar': BhAvatar;\n  }\n}\n"],"names":["BhAvatar","BaseElement","html","nothing","css","__decorateClass","property","state","customElement"],"mappings":";;;;;;;;AAmBO,IAAMA,IAAN,cAAuBC,EAAY;AAAA,EAAnC,cAAA;AAAA,UAAA,GAAA,SAAA,GAwDwB,KAAA,OAAmB,MACpC,KAAA,MAAM,IACN,KAAA,MAAM,IACN,KAAA,WAAW,IAEd,KAAQ,aAAa;AAAA,EAAA;AAAA,EAE9B,SAAS;AACP,WAAI,KAAK,OAAO,CAAC,KAAK,aACbC;AAAA;AAAA;AAAA,gBAGG,KAAK,GAAG;AAAA,gBACR,KAAK,OAAOC,CAAO;AAAA,mBAChB,KAAK,WAAW;AAAA;AAAA,UAK3B,KAAK,WACAD;AAAA,4DAC+C,KAAK,OAAOC,CAAO;AAAA,YACnE,KAAK,SAAS,MAAM,GAAG,CAAC,CAAC;AAAA;AAAA,UAM1BD;AAAA,4CACiC,KAAK,OAAO,MAAM;AAAA;AAAA;AAAA;AAAA,EAI5D;AAAA,EAEQ,cAAc;AACpB,SAAK,aAAa;AAAA,EACpB;AACF;AA9FaF,EACJ,SAAS;AAAA,EACd,GAAI,CAACC,EAAY,MAAM,EAAE,KAAA;AAAA,EACzBG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmDF;AAE6BC,EAAA;AAAA,EAA5BC,EAAS,EAAE,SAAS,GAAA,CAAM;AAAA,GAxDhBN,EAwDkB,WAAA,QAAA,CAAA;AACjBK,EAAA;AAAA,EAAXC,EAAA;AAAS,GAzDCN,EAyDC,WAAA,OAAA,CAAA;AACAK,EAAA;AAAA,EAAXC,EAAA;AAAS,GA1DCN,EA0DC,WAAA,OAAA,CAAA;AACAK,EAAA;AAAA,EAAXC,EAAA;AAAS,GA3DCN,EA2DC,WAAA,YAAA,CAAA;AAEKK,EAAA;AAAA,EAAhBE,EAAA;AAAM,GA7DIP,EA6DM,WAAA,cAAA,CAAA;AA7DNA,IAANK,EAAA;AAAA,EADNG,EAAc,WAAW;AAAA,GACbR,CAAA;"}