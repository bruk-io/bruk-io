{"version":3,"file":"bh-select.js","sources":["../../../src/atoms/select/bh-select.ts"],"sourcesContent":["import { html, css, nothing } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { BaseElement } from '../../primitives/base-element.js';\n\nexport type SelectSize = 'sm' | 'md' | 'lg';\n\nexport interface SelectOption {\n  value: string;\n  label: string;\n  disabled?: boolean;\n}\n\nexport interface SelectOptionGroup {\n  label: string;\n  options: SelectOption[];\n}\n\n/**\n * A styled native select dropdown. Uses a real `<select>` under the hood\n * for full accessibility and mobile support.\n *\n * Pass options via the `options` property (array of `{ value, label }` objects).\n * For grouped options, use `optionGroups`.\n *\n * @slot prefix - Content before the select (e.g. icon)\n *\n * @csspart wrapper - The outer container with border and background\n * @csspart select - The native `<select>` element\n *\n * @cssprop [--bh-select-bg=var(--bh-color-surface-raised)] - Select background\n * @cssprop [--bh-select-color=var(--bh-color-text)] - Select text color\n * @cssprop [--bh-select-border=var(--bh-color-border)] - Select border color\n * @cssprop [--bh-select-radius=var(--bh-radius-md)] - Select border radius\n *\n * @fires bh-change - Fired when selection changes. `detail: { value: string }`\n */\n@customElement('bh-select')\nexport class BhSelect extends BaseElement {\n  static styles = [\n    ...([BaseElement.styles].flat()),\n    css`\n      :host {\n        display: block;\n      }\n\n      .wrapper {\n        display: flex;\n        align-items: center;\n        width: 100%;\n        background: var(--bh-select-bg, var(--bh-color-surface-raised));\n        border: var(--bh-border-1) solid var(--bh-select-border, var(--bh-color-border));\n        border-radius: var(--bh-select-radius, var(--bh-radius-md));\n        box-shadow: var(--bh-shadow-inset);\n        transition: all var(--bh-transition-fast);\n        cursor: pointer;\n      }\n\n      select {\n        flex: 1;\n        min-width: 0;\n        font-family: var(--bh-font-sans);\n        line-height: var(--bh-leading-normal);\n        color: var(--bh-select-color, var(--bh-color-text));\n        background: transparent;\n        border: none;\n        outline: none;\n        cursor: pointer;\n        appearance: none;\n        -webkit-appearance: none;\n      }\n\n      /* Prefix slot */\n      .prefix {\n        display: flex;\n        align-items: center;\n        flex-shrink: 0;\n        color: var(--bh-color-text-muted);\n      }\n\n      /* Chevron indicator */\n      .chevron {\n        display: flex;\n        align-items: center;\n        flex-shrink: 0;\n        color: var(--bh-color-text-muted);\n        pointer-events: none;\n      }\n\n      .chevron svg {\n        width: 1em;\n        height: 1em;\n        fill: none;\n        stroke: currentColor;\n        stroke-width: 2;\n        stroke-linecap: round;\n        stroke-linejoin: round;\n      }\n\n      /* Sizes */\n      :host([size='sm']) .wrapper {\n        font-size: var(--bh-text-sm);\n        gap: var(--bh-spacing-1-5);\n        padding: var(--bh-spacing-1-5) var(--bh-spacing-3);\n      }\n\n      .wrapper,\n      :host([size='md']) .wrapper {\n        font-size: var(--bh-text-base);\n        gap: var(--bh-spacing-2);\n        padding: var(--bh-spacing-2) var(--bh-spacing-4);\n      }\n\n      :host([size='lg']) .wrapper {\n        font-size: var(--bh-text-lg);\n        gap: var(--bh-spacing-2);\n        padding: var(--bh-spacing-2-5) var(--bh-spacing-6);\n      }\n\n      select {\n        font-size: inherit;\n      }\n\n      /* Focus */\n      .wrapper:focus-within {\n        border-color: var(--bh-color-ring);\n        box-shadow: 0 0 0 1px var(--bh-color-ring);\n      }\n\n      /* Error */\n      :host([error]) .wrapper {\n        border-color: var(--bh-color-danger);\n      }\n\n      :host([error]) .wrapper:focus-within {\n        border-color: var(--bh-color-danger);\n        box-shadow: 0 0 0 1px var(--bh-color-danger);\n      }\n\n      /* Disabled */\n      :host([disabled]) .wrapper {\n        opacity: 0.5;\n        cursor: not-allowed;\n      }\n\n      :host([disabled]) select {\n        cursor: not-allowed;\n      }\n\n      /* Placeholder styling */\n      select:invalid {\n        color: var(--bh-color-text-muted);\n      }\n    `,\n  ];\n\n  @property({ reflect: true }) size: SelectSize = 'md';\n  @property() value = '';\n  @property() name = '';\n  @property() label = '';\n  @property() placeholder = '';\n  @property({ type: Array }) options: SelectOption[] = [];\n  @property({ type: Array, attribute: 'option-groups' }) optionGroups: SelectOptionGroup[] = [];\n  @property({ type: Boolean, reflect: true }) disabled = false;\n  @property({ type: Boolean, reflect: true }) required = false;\n  @property({ type: Boolean, reflect: true }) error = false;\n\n  render() {\n    return html`\n      <div class=\"wrapper\" part=\"wrapper\">\n        <span class=\"prefix\"><slot name=\"prefix\"></slot></span>\n        <select\n          part=\"select\"\n          name=${this.name || nothing}\n          aria-label=${this.label || nothing}\n          ?disabled=${this.disabled}\n          ?required=${this.required}\n          aria-invalid=${this.error ? 'true' : nothing}\n          @change=${this._handleChange}\n        >\n          ${this.placeholder ? html`<option value=\"\" disabled ?selected=${!this.value}>${this.placeholder}</option>` : nothing}\n          ${this.optionGroups.length > 0\n            ? this.optionGroups.map(\n                (group) => html`\n                  <optgroup label=${group.label}>\n                    ${group.options.map(\n                      (opt) => html`\n                        <option\n                          value=${opt.value}\n                          ?disabled=${opt.disabled}\n                          ?selected=${opt.value === this.value}\n                        >${opt.label}</option>\n                      `\n                    )}\n                  </optgroup>\n                `\n              )\n            : this.options.map(\n                (opt) => html`\n                  <option\n                    value=${opt.value}\n                    ?disabled=${opt.disabled}\n                    ?selected=${opt.value === this.value}\n                  >${opt.label}</option>\n                `\n              )}\n        </select>\n        <span class=\"chevron\">\n          <svg viewBox=\"0 0 16 16\"><path d=\"M4 6l4 4 4-4\"/></svg>\n        </span>\n      </div>\n    `;\n  }\n\n  private _handleChange(e: Event) {\n    const select = e.target as HTMLSelectElement;\n    this.value = select.value;\n    this.dispatchEvent(\n      new CustomEvent('bh-change', {\n        bubbles: true,\n        composed: true,\n        detail: { value: this.value },\n      })\n    );\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'bh-select': BhSelect;\n  }\n}\n"],"names":["BhSelect","BaseElement","html","nothing","group","opt","e","select","css","__decorateClass","property","customElement"],"mappings":"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"}