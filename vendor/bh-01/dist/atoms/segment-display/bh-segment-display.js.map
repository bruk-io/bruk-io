{"version":3,"file":"bh-segment-display.js","sources":["../../../src/atoms/segment-display/bh-segment-display.ts"],"sourcesContent":["import { html, css, nothing } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { BaseElement } from '../../primitives/base-element.js';\n\nexport type SegmentColor = 'primary' | 'success' | 'warning' | 'danger' | 'default';\nexport type SegmentSize = 'sm' | 'md' | 'lg' | 'xl';\n\n/**\n * A 14-segment LED display using the DSEG14 font for that Teenage Engineering /\n * Braun aesthetic.  Renders uppercase text and digits in glowing segment style.\n *\n * The DSEG14 font supports: A-Z, 0-9, and common symbols (+, -, ., :, etc.).\n * Text is automatically uppercased.\n *\n * @csspart display - The inner `<span>` element\n *\n * @cssprop [--bh-segment-color=var(--bh-color-primary)] - Segment fill color\n * @cssprop [--bh-segment-glow=var(--bh-color-primary-glow)] - Segment glow color\n * @cssprop [--bh-segment-off=var(--bh-color-surface-recessed)] - Ghost segment color\n * @cssprop [--bh-segment-size=14px] - Font size\n * @cssprop [--bh-segment-tracking=1px] - Letter spacing\n */\n@customElement('bh-segment-display')\nexport class BhSegmentDisplay extends BaseElement {\n  static styles = [\n    ...([BaseElement.styles].flat()),\n    css`\n      :host {\n        display: inline-block;\n        font-family: 'DSEG14Classic', 'DSEG14', var(--bh-font-mono);\n        text-transform: uppercase;\n      }\n\n      .display {\n        font-size: var(--bh-segment-size, 14px);\n        font-weight: normal;\n        letter-spacing: var(--bh-segment-tracking, 1px);\n        color: var(--bh-segment-color);\n        text-shadow: 0 0 8px var(--bh-segment-glow);\n        line-height: var(--bh-leading-none);\n      }\n\n      /* Ghost segments behind the lit text */\n      :host([ghost]) .ghost {\n        position: absolute;\n        inset: 0;\n        color: var(--bh-segment-off, var(--bh-color-surface-recessed));\n        text-shadow: none;\n        pointer-events: none;\n        user-select: none;\n      }\n\n      :host([ghost]) .wrapper {\n        position: relative;\n        display: inline-block;\n      }\n\n      /* Sizes */\n      :host([size='sm']) .display,\n      :host([size='sm']) .ghost {\n        --bh-segment-size: 10px;\n        --bh-segment-tracking: 0.5px;\n      }\n\n      .display,\n      .ghost,\n      :host([size='md']) .display,\n      :host([size='md']) .ghost {\n        --bh-segment-size: 14px;\n        --bh-segment-tracking: 1px;\n      }\n\n      :host([size='lg']) .display,\n      :host([size='lg']) .ghost {\n        --bh-segment-size: 20px;\n        --bh-segment-tracking: 1.5px;\n      }\n\n      :host([size='xl']) .display,\n      :host([size='xl']) .ghost {\n        --bh-segment-size: 28px;\n        --bh-segment-tracking: 2px;\n      }\n\n      /* Colors */\n      :host,\n      :host([color='primary']) {\n        --bh-segment-color: var(--bh-color-primary);\n        --bh-segment-glow: var(--bh-color-primary-glow, rgba(255, 107, 53, 0.25));\n      }\n\n      :host([color='success']) {\n        --bh-segment-color: var(--bh-color-success);\n        --bh-segment-glow: var(--bh-color-success-dim, rgba(42, 157, 78, 0.25));\n      }\n\n      :host([color='warning']) {\n        --bh-segment-color: var(--bh-color-warning);\n        --bh-segment-glow: rgba(245, 158, 11, 0.25);\n      }\n\n      :host([color='danger']) {\n        --bh-segment-color: var(--bh-color-danger);\n        --bh-segment-glow: rgba(220, 38, 38, 0.25);\n      }\n\n      :host([color='default']) {\n        --bh-segment-color: var(--bh-color-text);\n        --bh-segment-glow: transparent;\n      }\n    `,\n  ];\n\n  /** The text to display. Automatically uppercased. */\n  @property() value = '';\n\n  @property({ reflect: true }) color: SegmentColor = 'primary';\n  @property({ reflect: true }) size: SegmentSize = 'md';\n\n  /** Show ghost (unlit) segments behind the active ones for the classic LCD look. */\n  @property({ type: Boolean, reflect: true }) ghost = false;\n\n  @property() label = '';\n\n  /** Character used for ghost segments. Defaults to '8' for digits, '~' for alpha. */\n  private get _ghostText(): string {\n    return this.value\n      .toUpperCase()\n      .split('')\n      .map(ch => (/[0-9]/.test(ch) ? '8' : /[A-Z]/.test(ch) ? '~' : ch))\n      .join('');\n  }\n\n  render() {\n    const upper = this.value.toUpperCase();\n\n    if (this.ghost) {\n      return html`\n        <span class=\"wrapper\">\n          <span\n            class=\"display ghost\"\n            aria-hidden=\"true\"\n          >${this._ghostText}</span>\n          <span\n            class=\"display\"\n            part=\"display\"\n            role=\"status\"\n            aria-label=${this.label || nothing}\n          >${upper}</span>\n        </span>\n      `;\n    }\n\n    return html`\n      <span\n        class=\"display\"\n        part=\"display\"\n        role=\"status\"\n        aria-label=${this.label || nothing}\n      >${upper}</span>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'bh-segment-display': BhSegmentDisplay;\n  }\n}\n"],"names":["BhSegmentDisplay","BaseElement","ch","upper","html","nothing","css","__decorateClass","property","customElement"],"mappings":";;;;;;;;AAuBO,IAAMA,IAAN,cAA+BC,EAAY;AAAA,EAA3C,cAAA;AAAA,UAAA,GAAA,SAAA,GA2FO,KAAA,QAAQ,IAES,KAAA,QAAsB,WACtB,KAAA,OAAoB,MAGL,KAAA,QAAQ,IAExC,KAAA,QAAQ;AAAA,EAAA;AAAA;AAAA,EAGpB,IAAY,aAAqB;AAC/B,WAAO,KAAK,MACT,cACA,MAAM,EAAE,EACR,IAAI,CAAAC,MAAO,QAAQ,KAAKA,CAAE,IAAI,MAAM,QAAQ,KAAKA,CAAE,IAAI,MAAMA,CAAG,EAChE,KAAK,EAAE;AAAA,EACZ;AAAA,EAEA,SAAS;AACP,UAAMC,IAAQ,KAAK,MAAM,YAAA;AAEzB,WAAI,KAAK,QACAC;AAAA;AAAA;AAAA;AAAA;AAAA,aAKA,KAAK,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,yBAKH,KAAK,SAASC,CAAO;AAAA,aACjCF,CAAK;AAAA;AAAA,UAKPC;AAAA;AAAA;AAAA;AAAA;AAAA,qBAKU,KAAK,SAASC,CAAO;AAAA,SACjCF,CAAK;AAAA;AAAA,EAEZ;AACF;AA3IaH,EACJ,SAAS;AAAA,EACd,GAAI,CAACC,EAAY,MAAM,EAAE,KAAA;AAAA,EACzBK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqFF;AAGYC,EAAA;AAAA,EAAXC,EAAA;AAAS,GA3FCR,EA2FC,WAAA,SAAA,CAAA;AAEiBO,EAAA;AAAA,EAA5BC,EAAS,EAAE,SAAS,GAAA,CAAM;AAAA,GA7FhBR,EA6FkB,WAAA,SAAA,CAAA;AACAO,EAAA;AAAA,EAA5BC,EAAS,EAAE,SAAS,GAAA,CAAM;AAAA,GA9FhBR,EA8FkB,WAAA,QAAA,CAAA;AAGeO,EAAA;AAAA,EAA3CC,EAAS,EAAE,MAAM,SAAS,SAAS,IAAM;AAAA,GAjG/BR,EAiGiC,WAAA,SAAA,CAAA;AAEhCO,EAAA;AAAA,EAAXC,EAAA;AAAS,GAnGCR,EAmGC,WAAA,SAAA,CAAA;AAnGDA,IAANO,EAAA;AAAA,EADNE,EAAc,oBAAoB;AAAA,GACtBT,CAAA;"}