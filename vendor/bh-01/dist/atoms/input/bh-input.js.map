{"version":3,"file":"bh-input.js","sources":["../../../src/atoms/input/bh-input.ts"],"sourcesContent":["import { html, css, nothing } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { live } from 'lit/directives/live.js';\nimport { BaseElement } from '../../primitives/base-element.js';\n\nexport type InputSize = 'sm' | 'md' | 'lg';\n\n/**\n * A text input component with support for inset prefix/suffix content.\n *\n * @slot prefix - Content inside the input, before the text (e.g. `<bh-icon name=\"search\">`)\n * @slot suffix - Content inside the input, after the text (e.g. `<bh-icon name=\"x\">`)\n *\n * @csspart wrapper - The outer container with border and background\n * @csspart input - The native `<input>` element\n *\n * @cssprop [--bh-input-bg=var(--bh-color-surface-raised)] - Input background\n * @cssprop [--bh-input-color=var(--bh-color-text)] - Input text color\n * @cssprop [--bh-input-border=var(--bh-color-border)] - Input border color\n * @cssprop [--bh-input-radius=var(--bh-radius-md)] - Input border radius\n *\n * @fires bh-input - Fired on each keystroke. `detail: { value: string }`\n * @fires bh-change - Fired on blur/commit. `detail: { value: string }`\n */\n@customElement('bh-input')\nexport class BhInput extends BaseElement {\n  static styles = [\n    ...([BaseElement.styles].flat()),\n    css`\n      :host {\n        display: block;\n      }\n\n      .wrapper {\n        display: flex;\n        align-items: center;\n        width: 100%;\n        background: var(--bh-input-bg, var(--bh-color-surface-raised));\n        border: var(--bh-border-1) solid var(--bh-input-border, var(--bh-color-border));\n        border-radius: var(--bh-input-radius, var(--bh-radius-md));\n        box-shadow: var(--bh-shadow-inset);\n        transition: all var(--bh-transition-fast);\n      }\n\n      input {\n        flex: 1;\n        min-width: 0;\n        font-family: var(--bh-font-sans);\n        line-height: var(--bh-leading-normal);\n        color: var(--bh-input-color, var(--bh-color-text));\n        background: transparent;\n        border: none;\n        outline: none;\n      }\n\n      input::placeholder {\n        color: var(--bh-color-text-muted);\n      }\n\n      /* Slots */\n      .prefix,\n      .suffix {\n        display: flex;\n        align-items: center;\n        flex-shrink: 0;\n        color: var(--bh-color-text-muted);\n      }\n\n      /* Sizes — wrapper padding */\n      :host([size='sm']) .wrapper {\n        font-size: var(--bh-text-sm);\n        gap: var(--bh-spacing-1-5);\n        padding: var(--bh-spacing-1-5) var(--bh-spacing-3);\n      }\n\n      .wrapper,\n      :host([size='md']) .wrapper {\n        font-size: var(--bh-text-base);\n        gap: var(--bh-spacing-2);\n        padding: var(--bh-spacing-2) var(--bh-spacing-4);\n      }\n\n      :host([size='lg']) .wrapper {\n        font-size: var(--bh-text-lg);\n        gap: var(--bh-spacing-2);\n        padding: var(--bh-spacing-2-5) var(--bh-spacing-6);\n      }\n\n      /* Sizes — input font inherits from wrapper */\n      input {\n        font-size: inherit;\n      }\n\n      /* Focus */\n      .wrapper:focus-within {\n        border-color: var(--bh-color-ring);\n        box-shadow: 0 0 0 1px var(--bh-color-ring);\n      }\n\n      /* Error */\n      :host([error]) .wrapper {\n        border-color: var(--bh-color-danger);\n      }\n\n      :host([error]) .wrapper:focus-within {\n        border-color: var(--bh-color-danger);\n        box-shadow: 0 0 0 1px var(--bh-color-danger);\n      }\n\n      /* Disabled */\n      :host([disabled]) .wrapper {\n        opacity: 0.5;\n        cursor: not-allowed;\n      }\n\n      :host([disabled]) input {\n        cursor: not-allowed;\n      }\n\n      /* Readonly */\n      :host([readonly]) .wrapper {\n        background: var(--bh-color-surface);\n      }\n    `,\n  ];\n\n  @property({ reflect: true }) size: InputSize = 'md';\n  @property() type = 'text';\n  @property() value = '';\n  @property() placeholder = '';\n  @property() name = '';\n  @property() label = '';\n  @property({ type: Boolean, reflect: true }) disabled = false;\n  @property({ type: Boolean, reflect: true }) readonly = false;\n  @property({ type: Boolean, reflect: true }) required = false;\n  @property({ type: Boolean, reflect: true }) error = false;\n\n  render() {\n    return html`\n      <div class=\"wrapper\" part=\"wrapper\">\n        <span class=\"prefix\"><slot name=\"prefix\"></slot></span>\n        <input\n          part=\"input\"\n          type=${this.type}\n          .value=${live(this.value)}\n          placeholder=${this.placeholder || nothing}\n          name=${this.name || nothing}\n          aria-label=${this.label || nothing}\n          ?disabled=${this.disabled}\n          ?readonly=${this.readonly}\n          ?required=${this.required}\n          aria-invalid=${this.error ? 'true' : nothing}\n          @input=${this._handleInput}\n          @change=${this._handleChange}\n        />\n        <span class=\"suffix\"><slot name=\"suffix\"></slot></span>\n      </div>\n    `;\n  }\n\n  private _handleInput(e: InputEvent) {\n    const input = e.target as HTMLInputElement;\n    this.value = input.value;\n    this.dispatchEvent(\n      new CustomEvent('bh-input', {\n        bubbles: true,\n        composed: true,\n        detail: { value: this.value },\n      })\n    );\n  }\n\n  private _handleChange(e: Event) {\n    const input = e.target as HTMLInputElement;\n    this.value = input.value;\n    this.dispatchEvent(\n      new CustomEvent('bh-change', {\n        bubbles: true,\n        composed: true,\n        detail: { value: this.value },\n      })\n    );\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'bh-input': BhInput;\n  }\n}\n"],"names":["BhInput","BaseElement","html","live","nothing","e","input","css","__decorateClass","property","customElement"],"mappings":"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"}